---
import i18next, { t } from "i18next";
// Rimuovo importazioni duplicate - flatpickr è già nel layout
---

<div>
  <form action='https://secure.iperbooking.net/be/it/agriturismo-la-rondine-castagneto-carducci/' method='post'>
    <div class="bg-secondary py-4 sm:py-6 lg:py-8">
      <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col gap-6 rounded-lg bg-green p-4 sm:p-6 lg:p-8">
          {/* Header */}
          <div class="text-center">
            <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-secondary mb-2">{t("booking.title")}</h2>
            <p class="text-crusta font-sans font-bold text-base sm:text-lg">{t("booking.subtitle")}</p>
          </div>

          {/* Form Grid */}
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
            {/* Data Arrivo */}
            <div class="w-full">
              <label for="datepicker-arrivo" class="block mb-2 text-sm font-medium text-white">{t("booking.data")}</label>
              <input 
                id="datepicker-arrivo" 
                data-datepicker 
                data-datepicker-format="dd/mm/yyyy" 
                type="text" 
                name="arrivo" 
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5" 
                placeholder={t("booking.seleziona_data")}
              />
            </div>

            {/* Data Partenza */}
            <div class="w-full">
              <label for="datepicker-partenza" class="block mb-2 text-sm font-medium text-white">{t("booking.data_out")}</label>
              <input 
                id="datepicker-partenza" 
                data-datepicker 
                data-datepicker-format="dd/mm/yyyy" 
                type="text" 
                name="partenza" 
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5" 
                placeholder={t("booking.seleziona_data")}
              />
            </div>

            {/* Numero Camere */}
            <div class="w-full">
              <label for="numeroCamere" class="block mb-2 text-sm font-medium text-white">{t("booking.appartamenti")}</label>
              <select 
                id="numeroCamere" 
                name="numeroCamere" 
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option selected value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
              </select>
            </div>

            {/* Adulti */}
            <div class="w-full">
              <label for="Camera_1_Adulti" class="block mb-2 text-sm font-medium text-white">{t("booking.adulti")}</label>
              <select 
                id="Camera_1_Adulti" 
                name='Camera_1_Adulti' 
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="1">1</option>
                <option selected value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
              </select>
            </div>

            {/* Submit Button */}
            <div class="w-full flex items-end">
              <input 
                type="submit" 
                value={t("nav.prenota")} 
                class="w-full rounded-lg bg-crusta px-4 py-2.5 text-center text-sm font-semibold text-white transition-colors hover:bg-crusta/90 focus:outline-none focus:ring-2 focus:ring-crusta/50"
              />
            </div>
          </div>

          {/* Hidden Fields */}
          <select hidden name='IdTrattamento'>
            <option value='0' selected>{t("booking.appartamento")}</option>
          </select>
        </div>
      </div>
    </div>
  </form>
</div>

<script>
  // Script ottimizzato - solo inizializzazione datepicker
  document.addEventListener('DOMContentLoaded', function() {
    // Usa Flowbite se disponibile
    if (window.flowbite && window.flowbite.Datepicker) {
      const options = {
        format: 'dd/mm/yyyy',
        autoHide: true
      };

      const arrivoEl = document.getElementById('datepicker-arrivo');
      const partenzaEl = document.getElementById('datepicker-partenza');
      
      if (arrivoEl) new window.flowbite.Datepicker(arrivoEl, options);
      if (partenzaEl) new window.flowbite.Datepicker(partenzaEl, options);
    }
  });
</script>




	

	

